(function($){$.fn.smint=function(e){var t=$.extend({scrollSpeed:500,mySelector:"div"},e);$(this).addClass("smint");var n=new Array,r=0,i=$(".smint").height(),s=$(".smint"),o=$(".smint a"),u=s.height();if(t.scrollSpeed){var a=t.scrollSpeed}if(t.mySelector){var f=t.mySelector}return o.each(function(e){var t=$(this).attr("href").split("#")[1];if(!$(this).hasClass("extLink")){$(this).attr("id",t)}n.push(Array($(f+"."+t).position().top-i,$(f+"."+t).height()+$(f+"."+t).position().top,t));var l=s.offset().top;var c=function(r){var o=$(window).scrollTop()+u;if(o>l+u){s.css({position:"fixed",top:0,left:0}).addClass("fxd");$("body").css("padding-top",i)}else{s.css("position","relative").removeClass("fxd");$("body").css("padding-top","0")}if(n[e][0]<=o&&o<=n[e][1]){if(r=="up"){$("#"+t).addClass("active");$("#"+n[e+1][2]).removeClass("active")}else if(e>0){$("#"+t).addClass("active");$("#"+n[e-1][2]).removeClass("active")}else if(r==undefined){$("#"+t).addClass("active")}$.each(n,function(e){if(t!=n[e][2]){$("#"+n[e][2]).removeClass("active")}})}};c();$(window).scroll(function(){var e=$(this).scrollTop()+u;if(e>r){direction="down"}else if(e<r){direction="up"}r=e;c(direction);if($(window).scrollTop()+$(window).height()==$(document).height()){o.removeClass("active");$(".smint a:not('.extLink'):last").addClass("active")}else{o.last().removeClass("active")}});$(this).on("click",function(e){var t=s.height();e.preventDefault();var n=$(this).attr("href").split("#")[1];var r=$(f+"."+n).offset().top-t;$("html, body").stop().animate({scrollTop:r},a);if($(this).hasClass("extLink")){return false}});$(".intLink").on("click",function(e){var t=s.height();e.preventDefault();var n=$(this).attr("href").split("#")[1];if(s.hasClass("fxd")){var r=$(f+"."+n).position().top-t}else{var r=$(f+"."+n).position().top-t*2}$("html, body").stop().animate({scrollTop:r},a);if($(this).hasClass("extLink")){return false}})})};$.fn.smint.defaults={scrollSpeed:500,mySelector:"div"}})(jQuery)